<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Frugal Innovation | Quiz</title>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
	<link href='http://fonts.googleapis.com/css?family=Lato:300|Economica:400,700' rel='stylesheet' type='text/css'>
	<script>
	var subjectMatterArray = ["Frugal Innovation", "Sports", "Geography"];
	var currentQuizNumber;
	var changeLogo = function(){
				var imgFileName;
				var subject = subjectMatterArray[currentQuizNumber];
				if(subject == "Frugal Innovation")
				{
					return;
				}
				else if(subject == "Sports")
				{
					imgFileName = "basketball.png";
				}
				else
				{
					imgFileName = "globe.png";
				}
				$("#logo").attr("src", imgFileName);
				$("#logo").animate({fontSize:'2em'});
				$("#logo").animate({fontSize:'1em'});
	};
			

		var timeLimit = 15/*seconds*/;
		var time = timeLimit;
		var timer = function() {
			if(time <= 10 && time > 0)
			{
				var min = Math.floor((time / 60));
				var secTens = (Math.floor((time % 60) / 10)).toString();
				var sec = (Math.floor((time % 60) % 10)).toString();
				$("#timer").html('<h2>' + min + ':' + secTens + sec + '</h2>')
						  .animate({fontSize:'2em'})
						  .animate({fontSize:'1em'});
				time--;
				ctimer = setTimeout(timer, 1000);
			}
			else if (time > 0){
				var min = Math.floor((time / 60));
				var secTens = (Math.floor((time % 60) / 10)).toString();
				var sec = (Math.floor((time % 60) % 10)).toString();
				$("#timer").html('<h2>' + min + ':' + secTens + sec + '</h2>'); /***********************Change where the timer appends to************************/
				time--;
				ctimer = setTimeout(timer, 1000); //calls the first parameter after second parameter amount of time has elapsed. 
			}
			else //if the time has run out
			{
				$("#timer").html('<h2>0:00</h2>');
				time = timeLimit;
				//things to do when time runs out.
			}
		}
		var stopQuiz = function(){
			//set this as an eventhandler for stop button
			time = timeLimit;
		}

		var shuffle = function(array){
			var shuffledArray = [];
			var length = array.length;
			while(shuffledArray.length < length)
			{
				var random = Math.floor((Math.random() * array.length));
				shuffledArray.push(array.splice(random, 1)[0]);		//array.splice returns an array
			}
			return shuffledArray;
		};	//use function to shuffle array of questions and therefore you can just iterate through them as usual while randomizing choices.

		var date = function(){
			var d = new Date();
			$("#date").empty().html("<h5>" + d.toDateString() +"</h5>");
		};
		
		function randomSubjectMatter(){
			//Generate random number 0, 1, or 2. Check global subject array and pull that one.
			var i;
			for(i = 0; i < 3; i++)
			{
				var x = Math.floor(Math.random() * (3)); //3 is max, excluded. 
				if(x != currentQuizNumber)
				{
					//We never want to give the same quiz twice in one sitting.
					currentQuizNumber = x;
					return subjectMatterArray[x];
				}
			}
		};

		$(document).ready(function(){
			//choose a random subject matter to quiz
			//display subject in the title section
			date();
			$("#beginQuiz").click(function(){
				$("#scoreboard").html();
				$("#scoreboard").html();
				$("#scoreboard").html();
				
				$("#buttons").html('<a href="#"><div id="prev" class="button">prev</div></a>');
				$("#prev").click(/*assign the function that handles returning the previous question*/ )
				$("#buttons").append('<a href="#"><div id="stop" class="button">stop</div></a>');
				$("#stop").click(function(){
					stopQuiz();
					return false;
				});
				$("#buttons").append('<a href="#"><div id ="next" class="button">next</div></a>');
				$("#next").click(/*assign the function that handles returning the next question*/ )
			
				var subjectMatter = randomSubjectMatter();
				$("#quizName").empty().append(subjectMatter);
				changeLogo();
				timer();
				return false;
			});

		});	
	</script>
	<style>
		html
		{
			font-family: 'Lato', sans-serif;	
		}
		body
		{
			padding:0 5%;
			position:relative;
		}
		html, body
		{
			height:100%;
		}
		h1, h5
		{
			font-family: 'Economica', sans-serif;
		}
		.center
		{
			text-align:center;
		}

		#beginQuiz
		{
			display:inline-block;
			padding:2% 1%;
			text-align:center;
			width:30%;
			margin:0 auto;
			border: 1px solid rgba(0, 0, 0, 0.25);
		}
		.button
		{
			display:inline-block;
			padding:1% 1%;
			font-size: .75em;
			text-align:center;
			width:3%;
			margin:2% 0.5%;
			border: 1px solid rgba(0, 0, 0, 0.25);
		}
		.center a
		{
			text-decoration:none;
			color:black;
		}
		#banner
		{
			display:inline-block;
			margin-left:0.75%;
		}
		#bannerImg
		{
			display:block;
			margin:5% auto;
			width:75%;
		}

		#banner h5, h6
		{
			margin-top:-20px;
		}

		#quiz
		{
			overflow:auto;
			padding-bottom:20%;
		}
		#footer
		{
			position:relative;
			height:10%;
			margin-top:-10%;
		}
		#footer a
		{
			text-decoration:none;
			color:#6699FF;
		}
		#scoreboard
		{

		}
		#date
		{
			padding-top:2%;
			float:right;
		}
		#logo
		{
			display:inline;
			height:5em;
		}
	</style>
</head>
<body>
	<img src="SCUSeal.png" alt="SCU's Seal" id="logo"/>
	<div id="date"></div>
	<div id="banner"</div>
		
		<h1>Frugal Innovation Lab</h1>
		<h5>Innovation • Technology • Entreprenuership</h5>
		<h6>&nbsp;</h6>

	</div>
	<img src="http://upload.wikimedia.org/wikipedia/commons/c/c2/SCU_Mission_and_Palm_Trees.jpg" alt="SCU Palm Drive" id="bannerImg">
	<div class="center"><a href="#"><div id="beginQuiz">Take the Quiz</div></a></div>
	<div id="quiz"> 
		<div id="scoreboard" class="center">
			<div id="quizName" class="center"></div>
			<div id="correct"></div>
			<div id="incorrect"></div>
		</div>
		<div id="buttons" class="center">
		</div>
		<div id="timer" class="center"></div>
	</div>
	<div id="footer">
		<hr/>
		<h5>Created by <a href="https://github.com/aditprab">Adithya Prabhakaran</a> &amp; <a href="https://github.com/ntlam">Nathan Lam</a> aka Rollpt2</h5>
	</div>
</body>
</html>